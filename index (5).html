<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Deutsch T√§glich ‚Äî German Daily</title>
  <link rel="stylesheet" href="style.css">
  <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>üá©üá™</text></svg>">
  <style>
    body {
      background: #f5f0e8 !important;
      font-family: Georgia, 'Times New Roman', serif;
      color: #0e0e0e;
      min-height: 100vh;
      display: flex !important;
      flex-direction: column !important;
    }
    .idioms-page { display: flex; flex-direction: column; flex: 1; }
    .idiom-topbar {
      position: sticky; top: 0; z-index: 200;
      background: rgba(245,240,232,0.92);
      backdrop-filter: blur(10px);
      border-bottom: 1px solid rgba(14,14,14,0.10);
      padding: 0 20px;
      height: 54px;
      display: flex; align-items: center; justify-content: space-between;
      gap: 12px;
    }
    .idiom-logo-link {
      display: flex; align-items: center; gap: 10px;
      text-decoration: none; color: #0e0e0e;
      font-family: Georgia, serif;
      font-size: 17px; font-weight: bold;
      letter-spacing: -0.2px; flex-shrink: 0;
    }
    .idiom-logo-link:hover { opacity: 0.75; }
    .topbar-nav {
      display: flex; align-items: center; gap: 2px;
      overflow-x: auto; scrollbar-width: none;
    }
    .topbar-nav::-webkit-scrollbar { display: none; }
    .topbar-nav a {
      white-space: nowrap; padding: 6px 11px; border-radius: 999px;
      font-size: 13px; font-weight: 500;
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
      color: #0e0e0e; text-decoration: none; opacity: 0.6;
      transition: opacity 0.15s, background 0.15s;
    }
    .topbar-nav a:hover { opacity: 1; background: rgba(14,14,14,0.07); }
    .topbar-nav a.active { opacity: 1; background: #0e0e0e; color: #f5f0e8; }
    .topbar-actions { display: flex; gap: 6px; flex-shrink: 0; }
    .topbar-btn {
      width: 36px; height: 36px; border-radius: 50%;
      border: 1px solid rgba(14,14,14,0.18);
      background: transparent; cursor: pointer;
      display: flex; align-items: center; justify-content: center;
      transition: background 0.15s;
    }
    .topbar-btn:hover { background: rgba(14,14,14,0.08); }
    .idioms-hero {
      flex: 1; display: flex; flex-direction: column; align-items: center;
      padding: 28px 20px 20px;
    }
    .hero-meta {
      display: flex; align-items: center; gap: 10px;
      flex-wrap: wrap; justify-content: center; margin-bottom: 20px;
    }
    .hero-date {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
      font-size: 12px; letter-spacing: 1.5px; text-transform: uppercase;
      opacity: 0.45; font-weight: 500;
    }
    .hero-sep { opacity: 0.25; }
    .hero-badge {
      display: inline-flex; align-items: center; gap: 5px;
      padding: 4px 12px; border-radius: 999px;
      border: 1.5px solid #c8973a;
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
      font-size: 11px; font-weight: 600; letter-spacing: 1px;
      text-transform: uppercase; color: #c8973a;
    }
    .live-dot {
      width: 6px; height: 6px; border-radius: 50%; background: #c0392b;
      animation: blink 2s infinite;
    }
    @keyframes blink { 0%,100%{opacity:1} 50%{opacity:0.3} }
    .type-pill {
      display: inline-block; padding: 3px 12px; border-radius: 999px;
      background: rgba(200,151,58,0.12); border: 1px solid rgba(200,151,58,0.4);
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
      font-size: 11px; font-weight: 600; letter-spacing: 1px;
      text-transform: uppercase; color: #9a7225; margin-bottom: 14px;
    }
    .quote-open {
      font-family: Georgia, serif; font-size: 80px; line-height: 0.6;
      color: #e8c06a; opacity: 0.5; display: block; align-self: flex-start;
      margin-left: min(40px, 5vw); user-select: none;
    }
    .idiom-text {
      font-family: Georgia, 'Times New Roman', serif;
      font-size: clamp(26px, 5vw, 58px);
      font-weight: bold; line-height: 1.15; text-align: center;
      letter-spacing: -0.5px; color: #0e0e0e;
      max-width: 820px; margin: 10px auto 0;
      transition: opacity 0.22s ease, transform 0.22s ease;
    }
    .idiom-text.anim-out { opacity: 0; transform: translateY(8px); }
    .info-grid {
      display: grid; grid-template-columns: 1fr 1fr; gap: 10px;
      width: 100%; max-width: 680px; margin: 28px auto 0;
    }
    @media (max-width: 500px) { .info-grid { grid-template-columns: 1fr; } }
    .info-card {
      background: #faf7f2; border: 1px solid rgba(14,14,14,0.09);
      border-radius: 14px; padding: 14px 16px;
    }
    .info-card.span2 { grid-column: 1 / -1; }
    .info-label {
      display: block;
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
      font-size: 10px; font-weight: 600; letter-spacing: 1.5px;
      text-transform: uppercase; opacity: 0.4; margin-bottom: 5px;
    }
    .info-val {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
      font-size: 14px; line-height: 1.55; color: #0e0e0e;
    }
    .info-val.italic { font-style: italic; opacity: 0.7; }
    .info-val.bold { font-weight: 600; }
    .controls {
      display: flex; align-items: center; justify-content: center;
      gap: 14px; margin: 28px 0 8px; flex-wrap: wrap;
    }
    .ctrl {
      width: 48px; height: 48px; border-radius: 50%;
      border: 1.5px solid rgba(14,14,14,0.2);
      background: #faf7f2; cursor: pointer; font-size: 18px;
      display: flex; align-items: center; justify-content: center;
      transition: all 0.15s; box-shadow: 0 2px 8px rgba(14,14,14,0.08);
    }
    .ctrl:hover { background: #0e0e0e; color: #f5f0e8; border-color: #0e0e0e; transform: scale(1.08); }
    .ctrl:active { transform: scale(0.94); }
    .counter { display: flex; flex-direction: column; align-items: center; min-width: 50px; }
    .counter-n { font-family: Georgia, serif; font-size: 26px; font-weight: bold; line-height: 1; }
    .counter-t {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
      font-size: 10px; opacity: 0.35;
    }
    .save-btn-hero {
      display: flex; align-items: center; gap: 6px;
      padding: 10px 18px; border-radius: 999px;
      border: 1.5px solid rgba(14,14,14,0.2);
      background: #faf7f2; cursor: pointer;
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
      font-size: 13px; font-weight: 500;
      box-shadow: 0 2px 8px rgba(14,14,14,0.08);
      transition: all 0.15s;
    }
    .save-btn-hero:hover { background: #c8973a; color: #fff; border-color: #c8973a; }
    .save-btn-hero.saved { background: #c8973a; color: #fff; border-color: #c8973a; }
    .progress-wrap { width: 100%; max-width: 680px; margin: 4px auto 0; padding: 0 4px; }
    .progress-track { height: 2px; background: rgba(14,14,14,0.08); border-radius: 2px; }
    .progress-fill { height: 100%; background: #c8973a; border-radius: 2px; transition: width 0.35s ease; }
    .hint {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
      font-size: 11px; opacity: 0.28; text-align: center;
      margin: 6px 0 16px;
    }
    kbd { display: inline-block; padding: 1px 5px; border: 1px solid rgba(14,14,14,0.2); border-radius: 3px; font: inherit; font-size: 10px; }
  </style>
</head>
<body>

<div class="idiom-topbar">
  <a href="index.html" class="idiom-logo-link">
    <svg width="28" height="28" viewBox="0 0 28 28" fill="none">
      <rect width="28" height="9.33" fill="#000"/>
      <rect y="9.33" width="28" height="9.33" fill="#DD0000"/>
      <rect y="18.67" width="28" height="9.33" fill="#FFCE00"/>
    </svg>
    Deutsch T√§glich
  </a>
  <nav class="topbar-nav">
    <a href="index.html" class="active">‚ú¶ Daily</a>
    <a href="verbs.html">Verbs</a>
    <a href="nouns.html">Nouns</a>
    <a href="adjectives.html">Adjectives</a>
    <a href="adverbs.html">Adverbs</a>
    <a href="practice.html">Practice</a>
    <a href="grammar.html">Grammar</a>
  </nav>
  <div class="topbar-actions">
    <button class="topbar-btn" id="btnGlobalSearch" aria-label="Search">
      <svg viewBox="0 0 24 24" width="17" height="17" fill="none" stroke="currentColor" stroke-width="2.2"><circle cx="11" cy="11" r="7"/><path d="M21 21l-4.3-4.3"/></svg>
    </button>
    <button class="topbar-btn" id="btnSaved" aria-label="Saved">
      <svg viewBox="0 0 24 24" width="17" height="17" fill="none" stroke="currentColor" stroke-width="2.2"><path d="M20.8 4.6a5.5 5.5 0 0 0-7.8 0L12 5.6l-1-1a5.5 5.5 0 0 0-7.8 7.8l1 1L12 21l7.8-7.6 1-1a5.5 5.5 0 0 0 0-7.8z"/></svg>
    </button>
    <button class="topbar-btn menu-btn" aria-label="Menu" aria-expanded="false">
      <svg viewBox="0 0 24 24" width="17" height="17" fill="none" stroke="currentColor" stroke-width="2.2"><path d="M4 6h16M4 12h16M4 18h16"/></svg>
    </button>
  </div>
</div>

<div class="drawer-backdrop" hidden></div>
<aside class="drawer" hidden>
  <div class="drawer-top">
    <div class="drawer-title">Menu</div>
    <button class="icon-btn drawer-close" type="button" aria-label="Close">
      <svg viewBox="0 0 24 24" width="22" height="22" fill="none" stroke="currentColor" stroke-width="2"><path d="M18 6L6 18M6 6l12 12"/></svg>
    </button>
  </div>
  <nav class="drawer-nav">
    <a href="index.html" class="drawer-link drawer-link--active">‚ú¶ Daily Idioms</a>
    <a href="verbs.html" class="drawer-link">üî§ Verbs</a>
    <a href="nouns.html" class="drawer-link">üì¶ Nouns</a>
    <a href="adjectives.html" class="drawer-link">üé® Adjectives</a>
    <a href="adverbs.html" class="drawer-link">üí® Adverbs</a>
    <a href="practice.html" class="drawer-link">‚úÖ Practice</a>
    <a href="grammar.html" class="drawer-link">üìñ Grammar</a>
  </nav>
</aside>

<div class="modal" id="globalSearchModal" hidden>
  <div class="modal__backdrop" data-close="globalSearchModal"></div>
  <div class="modal__panel">
    <div class="modal__top"><div class="modal__title">Search</div><button class="icon-btn" data-close="globalSearchModal">‚úï</button></div>
    <input id="globalSearchInput" class="modal__input" placeholder="Search idioms, verbs, nouns‚Ä¶"/>
    <div id="globalSearchResults" class="modal__results"></div>
  </div>
</div>
<div class="modal" id="savedModal" hidden>
  <div class="modal__backdrop" data-close="savedModal"></div>
  <div class="modal__panel">
    <div class="modal__top"><div class="modal__title">Saved Words</div><button class="icon-btn" data-close="savedModal">‚úï</button></div>
    <div id="savedResults" class="modal__results"></div>
  </div>
</div>

<div class="idioms-page">
  <main class="idioms-hero">
    <div class="hero-meta">
      <span class="hero-date" id="heroDate">‚Äî</span>
      <span class="hero-sep">¬∑</span>
      <span class="hero-badge"><span class="live-dot"></span> Phrase of the Day</span>
    </div>
    <div class="type-pill" id="typePill">Idiom</div>
    <span class="quote-open">"</span>
    <h1 class="idiom-text" id="idiomText">Loading‚Ä¶</h1>
    <div class="info-grid">
      <div class="info-card">
        <span class="info-label">üìñ Literal</span>
        <p class="info-val italic" id="infoLiteral">‚Äî</p>
      </div>
      <div class="info-card">
        <span class="info-label">üè∑ Category</span>
        <p class="info-val" id="infoCategory">‚Äî</p>
      </div>
      <div class="info-card span2">
        <span class="info-label">üí° Meaning</span>
        <p class="info-val bold" id="infoMeaning">‚Äî</p>
      </div>
      <div class="info-card span2">
        <span class="info-label">üó£ Example</span>
        <p class="info-val" id="infoExample">‚Äî</p>
      </div>
    </div>
  </main>

  <div class="progress-wrap">
    <div class="progress-track"><div class="progress-fill" id="progressFill" style="width:0.5%"></div></div>
  </div>

  <div class="controls">
    <button class="ctrl" id="btnPrev">‚Üê</button>
    <div class="counter">
      <span class="counter-n" id="cNum">1</span>
      <span class="counter-t" id="cTotal">of 200</span>
    </div>
    <button class="ctrl" id="btnNext">‚Üí</button>
    <button class="save-btn-hero" id="btnSaveIdiom">
      <span id="saveHeart">‚ô°</span>
      <span id="saveLabel">Save</span>
    </button>
  </div>

  <p class="hint"><kbd>‚Üê</kbd> prev ¬∑ <kbd>‚Üí</kbd> next ¬∑ <kbd>S</kbd> save</p>
</div>

<script src="shared.js"></script>
<script>
  const _mb = document.querySelector('.menu-btn'), _dw = document.querySelector('.drawer'),
        _db = document.querySelector('.drawer-backdrop'), _dc = document.querySelector('.drawer-close');
  const openDr  = () => { _dw.hidden=false; _db.hidden=false; document.body.classList.add('drawer-open'); _mb?.setAttribute('aria-expanded','true'); };
  const closeDr = () => { _dw.hidden=true;  _db.hidden=true;  document.body.classList.remove('drawer-open'); _mb?.setAttribute('aria-expanded','false'); };
  _mb?.addEventListener('click', openDr);
  _dc?.addEventListener('click', closeDr);
  _db?.addEventListener('click', closeDr);
  SharedApp.initSavedModal();
  SharedApp.initSearchModal?.();
</script>
<script type="module" src="idioms.js"></script>
</body>
</html>
